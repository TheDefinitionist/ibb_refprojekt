/* stylelint-disable scss/at-rule-no-unknown */

// Style Reset
* { @apply box-border m-0 p-0 }

// Using PostCSS + TailwinD
@tailwind base;
@tailwind components;
@tailwind utilities;

// TY Layers
@layer base {
	.column-title { @apply tracking-widest text-red-500 bg-black inline px-1 text-xs font-medium }
	.tile-text { @apply text-lg text-white font-medium }
	.img-cover { @apply w-full h-full object-cover }
	.flex-center { @apply flex justify-center items-center }
	.cta-red { @apply inline-flex text-white text-lg uppercase font-bold 
		bg-red-600 border-0 py-2 px-4 focus:outline-none hover:bg-red-700 }
}

// Variables
$bodyColor: #eee;
$mainColor: white;
$headerColor: $mainColor;
$footerColor: $mainColor;

// Mixins
@mixin gmatrix($col, $row: null) {
	grid-column: $col; //3/3;
	@if ($row != null) {
		grid-row: $row; //1/4;
	} @else {
		grid-row: 1;
	}
}

// Body & Main Styles
body { 
	background: $bodyColor;

	a { 
		cursor: pointer;
		&.link { @apply text-red-500 hover:bg-gray-200 }
	}

	main { @apply container mx-auto bg-white text-gray-600 px-14 }
}

// Header
header {
	@apply container mx-auto text-gray-600 px-6 border-b-[1px] border-red-500 mb-7;
	background: $headerColor;

	.header-wrapper {
		@apply flex flex-wrap flex-row items-center m-4 pt-5;

		#home {
			@apply flex font-medium items-center text-gray-900 mb-0;

			h1 { @apply ml-3 text-xl }
			.logo { @apply w-12 h-12 text-white }
		}

		nav {
			@apply ml-auto mr-auto flex flex-wrap items-center text-base justify-center;

			#navbar {
				@apply flex;
				a { @apply mr-5 tracking-widest hover:bg-gray-200 hover:text-red-700 p-4 }
			}
		}

		.login { @apply inline-flex items-center border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 text-base mt-0 }
		.register { @apply font-bold text-red-500 p-2 focus:outline-none hover:text-black }

		button.subscribe {
			@apply cta-red focus:outline-none py-0 px-2;
			.fa-crown { @apply scale-110 translate-y-1 }
		}
	}
}

// Sections
.section {
	@apply py-20;

	.section__headline { @apply text-3xl font-medium mb-2 text-gray-900 }

	// News
	.news {
		display: grid;
		grid-template-columns: 5fr 2fr 2fr;
		grid-template-rows: repeat(3, max(10rem));

		.news__item {
			border: 1px solid white;

			&--top {
				grid-row: 1/4;
				grid-column: 1/2;
			}

			.news__column { @apply column-title }
			.news__img { @apply img-cover }
			.news__desc { @apply relative bg-opacity-75 bg-black -top-[68px] p-2 }
			.news__text { @apply tile-text }
		}

		// Trending
		.aside {
			@apply ml-10;
			grid-column: 3/3;
			grid-row: 1/4;

			.trending {
				.trending__headline { @apply text-xl font-medium text-gray-900 }

				#trending__items, .trending__headline {
					@apply flex flex-col;

					li {
						@apply bg-gray-700 border text-white border-white p-[0.51rem];

						&:hover { @apply bg-gray-800 border border-[#333] }
						h3 { @apply column-title font-bold; }
						p { font-size: minmax(1rem, 2vw); }
					}
				}
			}
		}
	}

	// Charts
	.charts {
		display: grid;
		grid-template-columns: repeat(8, 1fr);
		grid-template-rows: repeat(2, max(10rem));
		gap: 1rem;

		div:not(.charts__button) { background-color: gray; }

		&__rank1 {
			grid-column: 1 / 5;
			grid-row: 1 / 3;
		}

		&__rank2, &__rank4 { grid-column: 5 / 7; }
		&__rank3, &__rank5 { grid-column: 7 / 9; }

		.charts__item {
			img { @apply img-cover }

			.charts__desc {
				@apply relative -mt-[76px] bg-black bg-opacity-[0.35];
				
				
				.desc__rank { @apply flex-center w-12 h-12 bg-red-600 text-4xl text-black }
				.desc__songtitle { @apply tile-text text-3xl px-2 }
				.desc__interpret { @apply tile-text px-2 text-lg }
				&-- {
					&inline { @apply flex items-center bg-transparent }
					&top {
						top: -68px;
						.desc__rank { @apply w-20 h-20 bg-red-600 text-6xl font-bold text-white }
					}
				}
			}
		}
	}
	.charts__button {
		@apply text-center;
		button { @apply cta-red mt-4 }
	}

	// Premium
	.premium {
		@apply flex mt-6;
		&__text {
			align-self: center;
			h2 { @apply text-2xl text-gray-500 font-medium mb-2 }
			p { @apply leading-relaxed text-lg }
			button#subscribe { @apply cta-red }
			a { @apply text-indigo-500 inline-flex items-center ml-4 }
		}
		div > img { @apply img-cover }
	}

	.login,.register {
		display: flex;
		gap: 10px;
		.errmsg { @apply text-red-600 bg-red-100 border-2 border-red-500 p-2 mb-2 }
		.succmsg { @apply text-green-600 bg-green-100 border-2 border-green-500 p-2 mb-2 }
		&__form {
			display: grid;
			#login,#register {
				@apply cta-red inline mt-5;
				&.disabled { @apply opacity-[0.65] cursor-not-allowed }
			}
		}
		.instructions {
			p {
				span.checkrgx { color: red; }
			}
		}
	}
}

// Footer
footer {

	// Sitemap
	#sitemap {
		@apply container px-14 py-24 mx-auto bg-white border-t-[1px] border-red-500 mt-2;
		.sitemap__wrapper {
			@apply flex justify-center flex-wrap text-left -mb-10 -mx-4;
			nav {
				@apply list-none mb-10 px-10 grid;
				h2 { @apply font-medium text-gray-900 tracking-widest text-lg mb-3 }
				a { @apply text-gray-600 hover:text-red-500 hover:bg-gray-200 }
			}
		}
	}

	// Social Links
	#social-links {
		@apply px-5 py-8 flex justify-center;
		.social-links__wrapper {
			@apply inline-flex scale-150;
			a {
				@apply text-gray-500 p-2 hover:bg-gray-200 hover:text-red-500;
				svg { @apply w-5 h-5 }
			}
		}
	}

	// Copyrights
	#copyright {
		@apply bg-gray-100;
		.copyright__wrapper {
			@apply text-center py-4 px-5;
			address { @apply text-gray-500 text-sm }
		}
	}
}
